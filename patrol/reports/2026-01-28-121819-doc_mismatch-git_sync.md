# Patrol Finding: doc_mismatch

**Date:** 2026-01-28T12:18:19.207180
**Target:** apps/zerg/backend/zerg/jobs/git_sync.py
**Prompt:** doc_mismatch

## Description

Thread-safety claim contradicts async implementation

## Evidence

- `apps/zerg/backend/zerg/jobs/git_sync.py:27`
- `apps/zerg/backend/zerg/jobs/git_sync.py:26-29`
- `apps/zerg/backend/zerg/jobs/git_sync.py:146-157`

## Example

Class docstring states 'Thread-safety: Uses file lock for sync operations' but the code is entirely async-based using asyncio and asynccontextmanager. The _run_git method uses asyncio.create_subprocess_exec (async), and fcntl.flock is wrapped in asyncio.to_thread. This is async-concurrency safety, not thread-safety.

## Suggested Fix

Change 'Thread-safety: Uses file lock for sync operations' to 'Concurrency-safety: Uses file lock via asyncio.to_thread for sync operations' to accurately reflect the async implementation

---
*Generated by patrol/doc_mismatch*
