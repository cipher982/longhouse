# Timeline Demo Scenario
# Hook → Wow → Explain → CTA structure (~37s total)
#
# Prerequisites:
#   - Server running with demo data: longhouse serve --demo-fresh
#   - Audio generated: make video-audio SCENARIO=timeline-demo
#
# Timing: voiceover starts at second 0 of each scene. Actions should be
# spread across the full voiceover duration so the viewer always sees motion.
#
# Usage:
#   make video-all SCENARIO=timeline-demo

name: timeline-demo
description: Timeline product demo — hook with stat, fast search, slow explore, session detail, install CTA

voiceover:
  voice: "nova"
  model: "gpt-4o-mini-tts"

scenes:
  # Scene 1: Hook (~4s)
  # Big stat number to grab attention. No product shown yet.
  - id: hook
    voiceover: |
      47 AI sessions. Three different agents. Zero visibility.
    steps:
      - action: navigate
        url: /title-card.html?h=47&s=AI%20sessions.%20Three%20agents.%20No%20single%20view.&style=stat
        wait_for: '[data-ready="true"]'
      - action: pause_for_audio
      - action: pause
        duration_ms: 500

  # Scene 2: Search Wow (~6s)
  # Instant full-text search. Let speed speak for itself.
  - id: search-wow
    voiceover: |
      Search finds anything. Instantly.
    steps:
      - action: navigate
        url: /timeline?replay=timeline-demo&effects=off&clock=frozen
        wait_for: '.sessions-search-input'
      - action: pause
        duration_ms: 800
      - action: click
        selector: '.sessions-search-input'
      - action: pause
        duration_ms: 300
      # Fast typing — 60ms per char to emphasize speed
      - action: type
        selector: '.sessions-search-input'
        text: "health endpoint"
        delay_ms: 60
      # Let results appear and settle
      - action: pause
        duration_ms: 2000
      - action: pause_for_audio
      - action: pause
        duration_ms: 400

  # Scene 3: Timeline Explore (~12s)
  # NOW explain what Longhouse is. Slow hover across cards, then click in.
  - id: timeline-explore
    voiceover: |
      Longhouse gives you one timeline for every AI session.
      Claude, Codex, Gemini — each card shows the agent, branch, tools used, and duration.
    steps:
      - action: navigate
        url: /timeline?replay=timeline-demo&effects=off&clock=frozen
        wait_for: '.session-card'
      # Let the full grid land (0-2s)
      - action: pause
        duration_ms: 2000
      # Slow hover across cards — 1.5-2s intervals
      - action: hover
        selector: '.session-card:has-text("feat/cursor-pagination")'
      - action: pause
        duration_ms: 1800
      - action: hover
        selector: '.session-card:has-text("feat/fts5-search")'
      - action: pause
        duration_ms: 1800
      - action: hover
        selector: '.session-card:has-text("feature/onboarding")'
      - action: pause
        duration_ms: 1800
      - action: hover
        selector: '.session-card:has-text("claude")'
      - action: pause
        duration_ms: 1500
      # Settle — move cursor off cards
      - action: hover
        selector: '.sessions-search-input'
      - action: pause_for_audio

  # Scene 4: Session Detail (~8s)
  # Click into a session, expand a tool call, scroll through events.
  - id: session-detail
    voiceover: |
      Every message, tool call, and file edit — fully expandable.
      Trace exactly what the agent did and why.
    steps:
      - action: navigate
        url: /timeline?replay=timeline-demo&effects=off&clock=frozen
        wait_for: '.session-card'
      - action: pause
        duration_ms: 800
      # Click into first session
      - action: click
        selector: '.session-card'
      - action: wait
        selector: '.timeline-events'
        timeout_ms: 10000
      - action: pause
        duration_ms: 1500
      # Expand a tool call
      - action: click
        selector: '.event-tool-header'
      - action: pause
        duration_ms: 2000
      # Scroll through events
      - action: scroll
        direction: "down"
        amount: 400
        duration_ms: 1500
      - action: pause_for_audio

  # Scene 5: CTA (~7s)
  # Landing page with install command. Close the loop.
  - id: cta
    voiceover: |
      One command to install. Fully self-hosted.
      Your sessions, your machine, your data.
    steps:
      - action: navigate
        url: /landing?noredirect=1&replay=timeline-demo&fx=off
        wait_for: '.install-section'
      # Show hero briefly
      - action: pause
        duration_ms: 2000
      # Scroll to install section
      - action: scroll
        direction: "down"
        amount: 300
        duration_ms: 1500
      # Hold on the install command
      - action: pause
        duration_ms: 2000
      - action: pause_for_audio
      - action: pause
        duration_ms: 1000
